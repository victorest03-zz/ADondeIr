$(function(){function i(t){invocarModal(`/Producto/PartialMantenimiento/${t?t:""}`,()=>n.ajax.reload(null,!1))}const t=$("#tableProducto"),r=$("#btnNuevaProducto"),n=t.DataTable({lengthChange:!0,ajax:"/Producto/Listado",columns:[{data:"pkProducto",title:"Codigo",render:function(n){return`PR${zfill(n,5)}`}},{data:"cProducto",title:"Descripción"},{data:"TipoActividad.cTipoActividad",title:"Tipo de Actividad"},{data:"Distrito.cDistrito",title:"Distrito"},{data:"dPrecio",title:"Precio",render:function(n){return n.toLocaleString(undefined,{minimumFractionDigits:2})}},{data:"cGoogleMaps",title:"Google Maps",render:function(n){return`<a class="btn btn-link btn-xs" href="${n}" target="_blank">Ir a Google Maps</a>`}},{data:"fFechaCrea",title:"F. Creación",render:function(n){return new Date(n).format("dd-mm-yyyy")}},{data:null,defaultContent:"<button type='button' class='btn btn-primary btn-update' data-toggle='tooltip' title='Editar'><i class='fa fa-pencil'><\/i><\/button>",orderable:!1,searchable:!1,width:"26px"},{data:null,defaultContent:"<button type='button' class='btn btn-danger btn-delete' data-toggle='tooltip' title='Eliminar'><i class='fa fa-trash'><\/i><\/button>",orderable:!1,searchable:!1,width:"26px"}]});r.on("click",()=>i());t.on("click",".btn-delete, .btn-update",function(){const t=n.row($(this).parents("tr")).data().pkProducto;$(this).hasClass("btn-update")?i(t):confirmAjax(`/Producto/Delete/${t}`,null,"POST",null,"Se Elimino Correctamente",function(){n.ajax.reload(null,!1)})})});